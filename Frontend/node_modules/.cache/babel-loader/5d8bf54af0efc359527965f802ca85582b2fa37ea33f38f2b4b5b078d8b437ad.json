{"ast":null,"code":"import React,{useState,useEffect,useCallback}from\"react\";import\"./style.css\";import logo from\"./images/logo.png\";import image9 from\"./images/image-9.png\";import image16 from\"./images/image-16.png\";import image4 from\"./images/image-4.png\";import image19 from\"./images/image-19.png\";import image from\"./images/image.png\";import image10 from\"./images/image-10.png\";import image12 from\"./images/image-12.png\";import image7 from\"./images/image-7.png\";import image13 from\"./images/image-13.png\";import arrow from\"./images/arrow-1.png\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const FigmaDesign=()=>{const[currencyData,setCurrencyData]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);// Update rates function\nconst updateRates=useCallback(data=>{const updatedCurrencyData=data.filter(currency=>[\"USD-KES\",\"EUR-KES\",\"USD-UGX\",\"USD-TZS\",\"USD-NGN\",\"GBP-KES\",\"USD-JPY\",\"USD-CNY\",\"CNY-KES\"].includes(currency.Currency)).map(currency=>({label:currency.Currency,icon:getCurrencyIcon(currency.Currency),buying:currency.BUY,selling:currency.SELL}));// Sorting currencies in specific order\nconst sortedCurrencyData=[\"USD-KES\",\"EUR-KES\",\"USD-UGX\",\"USD-TZS\",\"USD-NGN\",\"GBP-KES\",\"USD-JPY\",\"USD-CNY\",\"CNY-KES\"].map(code=>updatedCurrencyData.find(currency=>currency.label===code));setCurrencyData(sortedCurrencyData);setLoading(false);// Set loading to false when data is fetched\n},[]);// Fetch data on component mount\nuseEffect(()=>{// Use the correct URL for the backend\nfetch('http://localhost:3001/').then(response=>response.json()).then(data=>updateRates(data))// Use the updateRates function here\n.catch(error=>{console.error('Error fetching rates:',error);setError('Failed to fetch data');// Set error message if fetch fails\nsetLoading(false);// Stop loading even if there's an error\n});},[updateRates]);// Add updateRates to the dependency array\nconst getCurrencyIcon=currencyCode=>{switch(currencyCode){case\"USD-KES\":return image9;case\"EUR-KES\":return image16;case\"USD-UGX\":return image4;case\"USD-TZS\":return image19;case\"USD-NGN\":return image;case\"GBP-KES\":return image12;case\"USD-JPY\":return image10;case\"USD-CNY\":return image7;case\"CNY-KES\":return image13;default:return image9;}};const formatDate=date=>{const day=date.getDate();const suffix=day%10===1&&day!==11?'ST':day%10===2&&day!==12?'ND':day%10===3&&day!==13?'RD':'TH';const options={weekday:'long',day:'numeric',month:'long'};const formattedDate=date.toLocaleDateString('en-US',options).toUpperCase();return formattedDate.replace(day,`${day}${suffix}`);};const currentDate=formatDate(new Date());return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",className:\"logo\"}),/*#__PURE__*/_jsx(\"div\",{className:\"regulation-text\",children:\"Licensed & Regulated by the Central Bank of Kenya & the Bank of Uganda\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"exchange-rate-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"exchange-rate-title asset-regular\",children:\"EXCHANGE RATE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"exchange-rate-date\",children:currentDate})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-text\",children:\"Loading data...\"}):error?/*#__PURE__*/_jsx(\"div\",{className:\"error-text\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"header-left\",children:/*#__PURE__*/_jsx(\"span\",{className:\"header-text\",children:\"BUYING\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"header-right\",children:/*#__PURE__*/_jsx(\"span\",{className:\"header-text\",children:\"SELLING\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-list\",children:currencyData.map((currency,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"currency-row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"currency-icon-container\",children:/*#__PURE__*/_jsx(\"img\",{className:\"currency-icon\",src:currency.icon,alt:`${currency.label} icon`})}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-label-container\",children:/*#__PURE__*/_jsx(\"span\",{children:currency.label})}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-action-container\",children:/*#__PURE__*/_jsx(\"img\",{src:arrow,alt:\"Arrow\",className:\"arrow-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-action\",children:currency.buying}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-action\",children:currency.selling})]},index))})]})]});};function App(){return/*#__PURE__*/_jsx(FigmaDesign,{});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useCallback","logo","image9","image16","image4","image19","image","image10","image12","image7","image13","arrow","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","FigmaDesign","currencyData","setCurrencyData","loading","setLoading","error","setError","updateRates","data","updatedCurrencyData","filter","currency","includes","Currency","map","label","icon","getCurrencyIcon","buying","BUY","selling","SELL","sortedCurrencyData","code","find","fetch","then","response","json","catch","console","currencyCode","formatDate","date","day","getDate","suffix","options","weekday","month","formattedDate","toLocaleDateString","toUpperCase","replace","currentDate","Date","className","children","src","alt","index","App"],"sources":["/home/rumba/Desktop/vs/Wapipay_PTE/ratefinal/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport \"./style.css\";\nimport logo from \"./images/logo.png\"; \nimport image9 from \"./images/image-9.png\";\nimport image16 from \"./images/image-16.png\";\nimport image4 from \"./images/image-4.png\";\nimport image19 from \"./images/image-19.png\";\nimport image from \"./images/image.png\";\nimport image10 from \"./images/image-10.png\";\nimport image12 from \"./images/image-12.png\";\nimport image7 from \"./images/image-7.png\";\nimport image13 from \"./images/image-13.png\";\nimport arrow from \"./images/arrow-1.png\"; \n\nconst FigmaDesign = () => {\n  const [currencyData, setCurrencyData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  // Update rates function\n  const updateRates = useCallback((data) => {\n    const updatedCurrencyData = data\n      .filter(currency => [\n        \"USD-KES\", \"EUR-KES\", \"USD-UGX\", \"USD-TZS\", \"USD-NGN\", \n        \"GBP-KES\", \"USD-JPY\", \"USD-CNY\", \"CNY-KES\"\n      ].includes(currency.Currency))\n      .map(currency => ({\n        label: currency.Currency,\n        icon: getCurrencyIcon(currency.Currency),\n        buying: currency.BUY,\n        selling: currency.SELL\n      }));\n\n    // Sorting currencies in specific order\n    const sortedCurrencyData = [\n      \"USD-KES\", \"EUR-KES\", \"USD-UGX\", \"USD-TZS\", \"USD-NGN\",\n      \"GBP-KES\", \"USD-JPY\", \"USD-CNY\", \"CNY-KES\"\n    ].map(code => updatedCurrencyData.find(currency => currency.label === code));\n\n    setCurrencyData(sortedCurrencyData);\n    setLoading(false);  // Set loading to false when data is fetched\n  }, []);\n\n  // Fetch data on component mount\n  useEffect(() => {\n    // Use the correct URL for the backend\n    fetch('http://localhost:3001/')\n      .then(response => response.json())\n      .then(data => updateRates(data))  // Use the updateRates function here\n      .catch(error => {\n        console.error('Error fetching rates:', error);\n        setError('Failed to fetch data');  // Set error message if fetch fails\n        setLoading(false);  // Stop loading even if there's an error\n      });\n  }, [updateRates]);  // Add updateRates to the dependency array\n\n  const getCurrencyIcon = (currencyCode) => {\n    switch (currencyCode) {\n      case \"USD-KES\": return image9;\n      case \"EUR-KES\": return image16;\n      case \"USD-UGX\": return image4;\n      case \"USD-TZS\": return image19;\n      case \"USD-NGN\": return image;\n      case \"GBP-KES\": return image12;\n      case \"USD-JPY\": return image10;\n      case \"USD-CNY\": return image7;\n      case \"CNY-KES\": return image13;\n      default: return image9;\n    }\n  };\n\n  const formatDate = (date) => {\n    const day = date.getDate();\n    const suffix = (day % 10 === 1 && day !== 11) ? 'ST' :\n                   (day % 10 === 2 && day !== 12) ? 'ND' :\n                   (day % 10 === 3 && day !== 13) ? 'RD' : 'TH';\n    const options = { weekday: 'long', day: 'numeric', month: 'long' };\n    const formattedDate = date.toLocaleDateString('en-US', options).toUpperCase();\n    return formattedDate.replace(day, `${day}${suffix}`);\n  };\n\n  const currentDate = formatDate(new Date());\n\n  return (\n    <div className=\"container\">\n      <img src={logo} alt=\"Logo\" className=\"logo\" />\n      <div className=\"regulation-text\">\n        Licensed & Regulated by the Central Bank of Kenya & the Bank of Uganda\n      </div>\n      <div className=\"exchange-rate-container\">\n        <div className=\"exchange-rate-title asset-regular\">EXCHANGE RATE</div>\n        <div className=\"exchange-rate-date\">{currentDate}</div>\n      </div>\n      {loading ? (\n        <div className=\"loading-text\">Loading data...</div>\n      ) : error ? (\n        <div className=\"error-text\">{error}</div>\n      ) : (\n        <>\n          <div className=\"header\">\n            <div className=\"header-left\">\n              <span className=\"header-text\">BUYING</span>\n            </div>\n            <div className=\"header-right\">\n              <span className=\"header-text\">SELLING</span>\n            </div>\n          </div>\n          <div className=\"currency-list\">\n            {currencyData.map((currency, index) => (\n              <div key={index} className=\"currency-row\">\n                <div className=\"currency-icon-container\">\n                  <img\n                    className=\"currency-icon\"\n                    src={currency.icon}\n                    alt={`${currency.label} icon`}\n                  />\n                </div>\n                <div className=\"currency-label-container\">\n                  <span>{currency.label}</span>\n                </div>\n                <div className=\"currency-action-container\">\n                  <img src={arrow} alt=\"Arrow\" className=\"arrow-icon\" />\n                </div>\n                <div className=\"currency-action\">{currency.buying}</div>\n                <div className=\"currency-action\">{currency.selling}</div>\n              </div>\n            ))}\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nfunction App() {\n  return <FigmaDesign />;\n}\n\nexport default App;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,MAAO,aAAa,CACpB,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,KAAK,KAAM,oBAAoB,CACtC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,KAAK,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEzC,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,KAAK,CAAEC,QAAQ,CAAC,CAAG1B,QAAQ,CAAC,IAAI,CAAC,CAExC;AACA,KAAM,CAAA2B,WAAW,CAAGzB,WAAW,CAAE0B,IAAI,EAAK,CACxC,KAAM,CAAAC,mBAAmB,CAAGD,IAAI,CAC7BE,MAAM,CAACC,QAAQ,EAAI,CAClB,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACrD,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAC3C,CAACC,QAAQ,CAACD,QAAQ,CAACE,QAAQ,CAAC,CAAC,CAC7BC,GAAG,CAACH,QAAQ,GAAK,CAChBI,KAAK,CAAEJ,QAAQ,CAACE,QAAQ,CACxBG,IAAI,CAAEC,eAAe,CAACN,QAAQ,CAACE,QAAQ,CAAC,CACxCK,MAAM,CAAEP,QAAQ,CAACQ,GAAG,CACpBC,OAAO,CAAET,QAAQ,CAACU,IACpB,CAAC,CAAC,CAAC,CAEL;AACA,KAAM,CAAAC,kBAAkB,CAAG,CACzB,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CACrD,SAAS,CAAE,SAAS,CAAE,SAAS,CAAE,SAAS,CAC3C,CAACR,GAAG,CAACS,IAAI,EAAId,mBAAmB,CAACe,IAAI,CAACb,QAAQ,EAAIA,QAAQ,CAACI,KAAK,GAAKQ,IAAI,CAAC,CAAC,CAE5ErB,eAAe,CAACoB,kBAAkB,CAAC,CACnClB,UAAU,CAAC,KAAK,CAAC,CAAG;AACtB,CAAC,CAAE,EAAE,CAAC,CAEN;AACAvB,SAAS,CAAC,IAAM,CACd;AACA4C,KAAK,CAAC,wBAAwB,CAAC,CAC5BC,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAAClB,IAAI,EAAID,WAAW,CAACC,IAAI,CAAC,CAAG;AAAA,CACjCqB,KAAK,CAACxB,KAAK,EAAI,CACdyB,OAAO,CAACzB,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,QAAQ,CAAC,sBAAsB,CAAC,CAAG;AACnCF,UAAU,CAAC,KAAK,CAAC,CAAG;AACtB,CAAC,CAAC,CACN,CAAC,CAAE,CAACG,WAAW,CAAC,CAAC,CAAG;AAEpB,KAAM,CAAAU,eAAe,CAAIc,YAAY,EAAK,CACxC,OAAQA,YAAY,EAClB,IAAK,SAAS,CAAE,MAAO,CAAA/C,MAAM,CAC7B,IAAK,SAAS,CAAE,MAAO,CAAAC,OAAO,CAC9B,IAAK,SAAS,CAAE,MAAO,CAAAC,MAAM,CAC7B,IAAK,SAAS,CAAE,MAAO,CAAAC,OAAO,CAC9B,IAAK,SAAS,CAAE,MAAO,CAAAC,KAAK,CAC5B,IAAK,SAAS,CAAE,MAAO,CAAAE,OAAO,CAC9B,IAAK,SAAS,CAAE,MAAO,CAAAD,OAAO,CAC9B,IAAK,SAAS,CAAE,MAAO,CAAAE,MAAM,CAC7B,IAAK,SAAS,CAAE,MAAO,CAAAC,OAAO,CAC9B,QAAS,MAAO,CAAAR,MAAM,CACxB,CACF,CAAC,CAED,KAAM,CAAAgD,UAAU,CAAIC,IAAI,EAAK,CAC3B,KAAM,CAAAC,GAAG,CAAGD,IAAI,CAACE,OAAO,CAAC,CAAC,CAC1B,KAAM,CAAAC,MAAM,CAAIF,GAAG,CAAG,EAAE,GAAK,CAAC,EAAIA,GAAG,GAAK,EAAE,CAAI,IAAI,CACpCA,GAAG,CAAG,EAAE,GAAK,CAAC,EAAIA,GAAG,GAAK,EAAE,CAAI,IAAI,CACpCA,GAAG,CAAG,EAAE,GAAK,CAAC,EAAIA,GAAG,GAAK,EAAE,CAAI,IAAI,CAAG,IAAI,CAC3D,KAAM,CAAAG,OAAO,CAAG,CAAEC,OAAO,CAAE,MAAM,CAAEJ,GAAG,CAAE,SAAS,CAAEK,KAAK,CAAE,MAAO,CAAC,CAClE,KAAM,CAAAC,aAAa,CAAGP,IAAI,CAACQ,kBAAkB,CAAC,OAAO,CAAEJ,OAAO,CAAC,CAACK,WAAW,CAAC,CAAC,CAC7E,MAAO,CAAAF,aAAa,CAACG,OAAO,CAACT,GAAG,CAAE,GAAGA,GAAG,GAAGE,MAAM,EAAE,CAAC,CACtD,CAAC,CAED,KAAM,CAAAQ,WAAW,CAAGZ,UAAU,CAAC,GAAI,CAAAa,IAAI,CAAC,CAAC,CAAC,CAE1C,mBACEhD,KAAA,QAAKiD,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBpD,IAAA,QAAKqD,GAAG,CAAEjE,IAAK,CAACkE,GAAG,CAAC,MAAM,CAACH,SAAS,CAAC,MAAM,CAAE,CAAC,cAC9CnD,IAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,wEAEjC,CAAK,CAAC,cACNlD,KAAA,QAAKiD,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCpD,IAAA,QAAKmD,SAAS,CAAC,mCAAmC,CAAAC,QAAA,CAAC,eAAa,CAAK,CAAC,cACtEpD,IAAA,QAAKmD,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAEH,WAAW,CAAM,CAAC,EACpD,CAAC,CACLzC,OAAO,cACNR,IAAA,QAAKmD,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,iBAAe,CAAK,CAAC,CACjD1C,KAAK,cACPV,IAAA,QAAKmD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAE1C,KAAK,CAAM,CAAC,cAEzCR,KAAA,CAAAE,SAAA,EAAAgD,QAAA,eACElD,KAAA,QAAKiD,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBpD,IAAA,QAAKmD,SAAS,CAAC,aAAa,CAAAC,QAAA,cAC1BpD,IAAA,SAAMmD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,QAAM,CAAM,CAAC,CACxC,CAAC,cACNpD,IAAA,QAAKmD,SAAS,CAAC,cAAc,CAAAC,QAAA,cAC3BpD,IAAA,SAAMmD,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAC,SAAO,CAAM,CAAC,CACzC,CAAC,EACH,CAAC,cACNpD,IAAA,QAAKmD,SAAS,CAAC,eAAe,CAAAC,QAAA,CAC3B9C,YAAY,CAACa,GAAG,CAAC,CAACH,QAAQ,CAAEuC,KAAK,gBAChCrD,KAAA,QAAiBiD,SAAS,CAAC,cAAc,CAAAC,QAAA,eACvCpD,IAAA,QAAKmD,SAAS,CAAC,yBAAyB,CAAAC,QAAA,cACtCpD,IAAA,QACEmD,SAAS,CAAC,eAAe,CACzBE,GAAG,CAAErC,QAAQ,CAACK,IAAK,CACnBiC,GAAG,CAAE,GAAGtC,QAAQ,CAACI,KAAK,OAAQ,CAC/B,CAAC,CACC,CAAC,cACNpB,IAAA,QAAKmD,SAAS,CAAC,0BAA0B,CAAAC,QAAA,cACvCpD,IAAA,SAAAoD,QAAA,CAAOpC,QAAQ,CAACI,KAAK,CAAO,CAAC,CAC1B,CAAC,cACNpB,IAAA,QAAKmD,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cACxCpD,IAAA,QAAKqD,GAAG,CAAEvD,KAAM,CAACwD,GAAG,CAAC,OAAO,CAACH,SAAS,CAAC,YAAY,CAAE,CAAC,CACnD,CAAC,cACNnD,IAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEpC,QAAQ,CAACO,MAAM,CAAM,CAAC,cACxDvB,IAAA,QAAKmD,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAEpC,QAAQ,CAACS,OAAO,CAAM,CAAC,GAfjD8B,KAgBL,CACN,CAAC,CACC,CAAC,EACN,CACH,EACE,CAAC,CAEV,CAAC,CAED,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACb,mBAAOxD,IAAA,CAACK,WAAW,GAAE,CAAC,CACxB,CAEA,cAAe,CAAAmD,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}